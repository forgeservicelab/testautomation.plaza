*** Settings ***
Documentation   Test Service offering mandatory fields
Suite Setup    Login as partner with cra 
Suite Teardown    Log out and Close Browsers
Test Template    Add service offering
Resource    ../common/assets/secrets.txt
Resource    ../common/assets/resource.txt
Resource    ../local_resource.txt

*** Variables ***
${USER}    ${VALID_PARTNERCRA}
${PASSWORD}    ${VALID_PARTNERCRA_PASSWORD}
${ORGANIZATION_TITLE}   Test organization
${PRODUCT_FAMILY_TITLE}     Test title
${PRODUCT_OFFERING_TITLE}   Test product offering
${SERVICE_OFFERING_TITLE}   Test service offering


 *** Test Cases ***     Title     Tags      Info        Terms       Price       Contact   Validate
Empty Title             ${EMPTY}  Testing   info        terms       100 €       auto      title field is required
Empty Tags              Title     ${EMPTY}  info        terms       100 €       auto      Tags field is required
Empty Info              Title     Testing   ${EMPTY}    terms       100 €       auto      Brief overview description field is required.
Empty Price             Title     Testing   info        terms       ${EMPTY}    auto      Pricing information field is required.
Empty Contact          Title     Testing   info        terms       100€        ${EMPTY}  Contact person / Address field is required
#Price only letters      Title     Testing   info        terms       asd€         Pricing information must contains letters and at least one number.
# TODO!! These are failing
#Empty Terms and Cond    Title     Testing   info        ${EMPTY}    100 €       Terms overview description field is required.
#Price only Numbers      Title     Testing   info        terms       100         Pricing information must contains letters and at least one number.
#Emtpy Cancellation

*** Keywords ***
Add service offering
    [Arguments]    ${title}    ${tags}    ${info}    ${terms}    ${pricing}    ${contact}    ${validate}
    Wait Until Page Contains    Add content
    Mouse Over  link=Add content
    Wait Until PAge Contains    Service offering
    Click Element   link=Service offering
    Wait Until Page Contains    Offering title
    Input Text  id=edit-field-page-title-und-0-value    ${title}
    Input Text  id=edit-field-offering-tags-und     ${Tags} 
    Input Text  id=edit-field-offering-address-und-0-value    ${contact}
    Execute Javascript   CKEDITOR.instances['edit-field-brief-overview-description-und-0-value'].setData('${info}');
    Click Link  Pricing
    Input Text  id=edit-field-pricing-information-und-0-value    ${pricing}
    Click Link  Terms and conditions
    Execute Javascript   CKEDITOR.instances['edit-field-terms-conditions-inside-und-0-field-terms-and-conditions-text-und-0-value'].setData('Terms and conditions');
    Execute Javascript   CKEDITOR.instances['edit-field-terms-conditions-prod-und-0-field-terms-conditions-text-2-und-0-value'].setData('Terms and conditions 2');
    Click Element    id=edit-submit
    Wait Until Page Contains    ${validate}
