*** Settings ***
Documentation   Join forge with different roles
Suite Setup    Go to frontpage
Suite Teardown    Close All Browsers
Resource    ../common/assets/secrets.txt
Resource    ../common/assets/resource.txt
Resource    ../local_resource.txt


*** Variables ***
${USER_NAME}    tperson
${USER_EMAIL}   test@testemailaddress.com

*** Test Cases ***
I want to offer APIs, software, datasets or tools and I need computing capacity to do that 
    [Tags]    noncritical
    Go to    ${DRUPAL_URL}
    Click Link  Join Forge
    Wait Until Page Contains    Join FORGE Service Lab!
    Sleep   9 s
    Click Element   id=edit-submitted-role-4
    Click Element   xpath=(//a[contains(text(),'Continue >')])[4]
#    Click Element   jquery=input.button-primary
#    Click Link    Continue >
    Wait Until Page Contains    Forge partner role and CRA information 
    Page Should Not Contain    Warning
    Sleep   9 s
#    Click Element   jquery=input.button-primary
    Click Link    Fill in the application
    Wait Until Page Contains    Username
    Input Text  id=edit-name    ${USER_NAME}
    Input Text  id=edit-mail    ${USER_EMAIL}
    Sleep   9 s
    Click Element   id=edit-submit
    Wait Until Page Contains    The name ${USER_NAME} is already taken
